<section class="todoapp">
  <header class="header">
  </header>
  <section class="main">
    <md-card>
      <md-toolbar color="primary">To Dos</md-toolbar>
      <md-input class="new-todo" placeholder="What needs to be done?" autofocus="" [(ngModel)]="newTodo.title"
                (keyup.enter)="applyChanges()" minlength="1"></md-input>
      <button md-button class="add" color="primary" (click)="applyChanges()">{{isUpdateMode ? "Update" : "Add"}}</button>
      <button md-button class="add" *ngIf="isUpdateMode" color="primary" (click)="cancelChanges()">Cancel</button>
      <div class="todo-list" *ngIf="todos.length > 0" [dragula]="'placeholder'">
        <app-todo *ngFor="let todo of todos"
                  [class.completed]="todo.complete"
                  [todo]="todo"
                  (remove)="removeTodo(todo)"
                  (edit)="editTodo(todo)"></app-todo>
      </div>
    </md-card>
  </section>
  <footer class="footer" *ngIf="todos.length > 0">
    <span class="todo-count"><strong>{{todos.length}}</strong> {{todos.length == 1 ? 'item' : 'items'}}, {{completedTodos.length}} completed</span>
    <button md-button class="add" color="primary" (click)="clearCompleted()">Clear Completed</button>
  </footer>
</section>
